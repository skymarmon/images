<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Roguelike Deckbuilder</title>

  <!-- 제주한라산 글꼴 -->
  <link href="https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207@1.0/JejuHallasan.woff" rel="stylesheet" />
  <style>
    @font-face {
      font-family: 'JejuHallasan';
      src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2207@1.0/JejuHallasan.woff') format('woff');
      font-weight: normal;
      font-style: normal;
    }
    body {
      margin: 0;
      font-family: 'JejuHallasan', cursive;
      overflow: hidden;
      background: #000;
    }
    canvas {
      display: block;
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
  <script>
    // 글로벌 변수
    window.selectedClass = null;

    // Phaser의 기본 텍스트 생성기 오버라이드 - 제주한라산 자동 적용
    Phaser.GameObjects.GameObjectFactory.prototype._originalText = Phaser.GameObjects.GameObjectFactory.prototype.text;
    Phaser.GameObjects.GameObjectFactory.prototype.text = function (x, y, text, style = {}) {
      style.fontFamily = style.fontFamily || 'JejuHallasan';
      return this._originalText.call(this, x, y, text, style);
    };
  </script>
</head>
<body>
  <script type="module">
    import { StartScene } from './src/StartScene.js';
    import { ChooseClass } from './src/ChooseClass.js';
    import { ChooseLocation } from './src/ChooseLocation.js';

    const config = {
      type: Phaser.AUTO,
      width: window.innerWidth,
      height: window.innerHeight,
      backgroundColor: '#000000',
      scene: [StartScene, ChooseClass, ChooseLocation],
      scale: {
        mode: Phaser.Scale.RESIZE,
        autoCenter: Phaser.Scale.CENTER_BOTH,
      }
    };

    new Phaser.Game(config);
  </script>
</body>
</html>
